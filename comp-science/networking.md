<!-- REST -------------------------------------------------------------------------------------------------------->

# REST

Representational State Transfer – метод взаимодействия в сети, составные части:

Формат предоставления данных:

- Plain text — это обычный текст, который я использовал при написании письма;
- XML — язык разметки информации;
- JSON — текстовый формат обмена данными;
- Binary — бинарный формат.

- Протокол передачи данных – набор соглашений, который определяет обмен между разными программами
- Транспорт — это подмножество сетевых протоколов
- Ресурсы –доменов

6 принципов:

- Клиент-серверная архитектура
- Stateless
- Кэширование
- Единообразие интерфейса
- Layered system В реальной жизни между ними могут быть, к примеру, proxy-сервера, роутеры, балансировщики — все, что угодно. И то, по какому пути запрос проходит от клиента до сервера, мы часто не можем знать.
- Code on demand Идея передачи некоторого исполняемого кода (по сути какой-то программы) от сервера клиенту

## HTTP протоколы

- Обмен идет в формате запрос-ответ
- нет состояния (не знает о предыдущих запросах)
- TCP-сессия в ходе которой один раз устанавливается соединение
- Три агента: клиент, сервер (apache/nginx), прокси

Структура HTTP сообщения:

```
Стартовая строка (URI HTTP/Версия) пример: GET /wiki/HTTP HTTP/1.0 Host: ru.wikipedia.org, в ответ придет строка вида HTTP/1.0 200 OK
```

## Методы:

- OPTIONS – проверяет работоспособность сайта, в ответ придет должен прийти список с доступными методами
- GET – в нем можно передавать параметры через знак ?
- HEAD – проверяет наличие ресурса
- POST – имеет тело, при успехе 200 – удачно выполнен, 201 – создан ресурс
- PUT – для загрузки содержимого (не кешируется на сервере) в отличае от POST содержимое запроса соответствет схеме обработки
- PATCH – к фрагменту

- Заголовки
- Тело сообщения

## TLS, SSL

протоколы защиты ассиметричное шифрование

<!-- Виды запросов ------------------------------------------------------------------------------------------------------------------------->

## Виды запросов

- Short polling – клиент отправляет запросы с определённым интервалом, плюсы – live reloading, минус – DDOS сервера при маленьком timeout

- Long polling – метод, который позволяет поддерживать соединение не вызывая методов WEBSocket или Server Events создается с помощью функции, которая вызывает сама себя с запросом на сервер. Сервер ждет изменение с помощью таймаута, при появлении изменений сервер закрывает соединение

- WebSocket позволяет держать соединение без лишних запросов.Создаем web socket c помощью new WebSocket(). После создания WS мы можем слушать 4 события open – соединение установлено, message – получены данные, error – ошибка, close – соединение закрыто. Методы send и close.

- Server Sent Events – похожий на WS c той разнице, что сообщение может только отправлять сервер, отправлять может только текст, обмен проходит по http протоколу

<!-- Безопасность -------------------------------------------------------------------------------------------------------------------------->

# Безопасность

## XSS CSFR

XSS
(англ. Cross-Site Scripting — «межсайтовый скриптинг») — злоумышленнику удается внедрить на страницу JavaScript-код, который не был предусмотрен разработчиками. Этот код будет выполняться каждый раз, когда жертвы (обычные пользователи) будут заходить на страницу приложения, куда этот код был добавлен. Избежать можно с помощью:
экранирования, флагов httpOnly и scure.

Использовать CSP (это дополнительный уровень безопасности, позволяющий распознавать и устранять определённые типы атак, таких как Cross Site Scripting (XSS (en-US)) и атаки внедрения данных.),
Регулярно сверяться с OWASP (Open Web Application Security Project (OWASP) — это открытый проект обеспечения безопасности веб-приложений[en].Сообщество OWASP включает в себя корпорации, образовательные организации и частных лиц со всего мира. Сообщество работает над созданием статей, учебных пособий, документации, инструментов и технологий, находящихся в свободном доступе.)

CSRF – cross site request forgery[подделка], в основном связанная с куки, заключается в том, что подделывается запрос пользователя. Способы избежать CSRF атаку:
CSRF – токен, для каждой пользовательской сессии генерируется уникальный токен
определять заголовки content-type
Определенное значение заголовка refer
Подтверждение действия с помощью пароля
SameSite в cookie

Noreferrer – если в атрибут rel установить значение norferrer то информация о реферере не утечет, он не будет

<!-- Авторизация --------------------------------------------------------------------------------------------------------------------------->

# Авторизация

Аутентификация - процесс при котором сервис распознает пользователя
Авторизация - процесс, при котором определяются права и роли пользователя

## Сессионная авторизация

Метод авторизации, при которой в БД сохраняется актуальная сессия в виде пары ключ-значение, где ключ - уникальный, при обращении на сервер идет поиск этого id сервере (id передается в заголовках). Минус такой авторизации - нужно хранить в БД уникальный номер сессии, плюс - более безопасный подход

## авторизация с помощью токена

Токен - строка в которой хранится хэшированная информация, которое хранится с помощью secret-key, временной проверки

Токен

### JWT

json web token – Стандарт для создания токенов доступа. Может включать в себя и данные. JWT состоит из трех частей: заголовок header, полезные данные payload и подпись signature. Хранить токены можно в любом локальном хранилище, флаги httpOnly и secure обязательны
