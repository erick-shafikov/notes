# SSL и TLS

Процесс строится на ключах - 128битные числа, которые комбинируются с содержимым шифруют его. Использую бубличный ключ и приватный.

- SSL - Secure Sockets Layer (устаревший)
- TLS - Transport Layer Security

SSL является базой TLS. Обеспечивают:

- приватность. Достигается за счет
- - encrypt - шифрование используются 128 битные ключи
- - sign - подписи
- - использование ключей - пара из публичного и приватного (два числа)
- целостность
- аутентификацию

Получение сертификата - привязка публичного ключа. Проверка:

- соединения браузера и сервера по SSL
- сервер отправляет сертификат, к-ый содержит публичный ключ
- браузер сравнивает ключ с подписью у себя (сохраняет в trusted store), сертификаты также хранятся и на пк
- браузер отправляет сессионный ключ. Сервер расшифровывает его приватным ключом
- передача идет с помощью шифрования этого сессионного ключа

Типы цифровых сертификатов:

- сертификат проверки домена Domain-Validated (DV) Certificate
- сертификат с расширенной проверкой Extended Validation (EV) Certificate

# шифрование ключей

## алгоритм rsa

Типы шифрования:

- симметричное шифрование (ключи у отправителя и получателя одинаковые)
- ассиметричное (два разных ключа. Один открытый ключ на клиенте и на сервере)
- гибридное (дав ключа на сервере)

Формируются два ключа (открытый и закрытый) на сервере, далее идут запросы:

- к-c - отравляет запрос на установку соединения
- c-к - отправляет открытый ключ, формирует симметричный ключ (новый)
- к-с - отправляет ключ на сервер, которы можно расшифровать только с помощью закрытого. Формирует открытый ключ(новый), таким образом есть два ключа симметричного шифрования

## алгоритм Диффи-Хеллмана

Выбираются два числа p и g открытые, для обмена ключами выбираются два секретных числа a,b(еще пара). Далее по принципу:

- к-с на клиенте число mod(g ^ a, p) передает остаток, отправляет на сервер
- с-к сервер вычисляет число mod(g ^ b, p) отправляет на клиент
- к-с клиент берет число и выполняет операция из (1) шага выполняется для числа с шага (2)

# целостность

Данные не должны быть не изменены. Используются криптографические хеш-функции (из битов получается строка заданной длины). Из проблем - коллизия.

## message authentication cod (mac)

Формируется данные(сообщение), на основе сообщения и открытого ключа вычисляется хеш. Отправляются на сервер, сравниваются хеш и сообщение. Так как на сервере есть ключ и хеш

# аутентификация

Это подтверждение подленности сервера. Обеспечивается с помощью симметричного шифрования. С помощью открытого и закрытого ключа. Шифрование - закрытым ключом. Шифрование применяется на хеш передаваемых данных. Сравнивается хеш полученных данных и открытый ключ. Используется инфраструктура открытых ключей, через удостоверяющий центр. Удостоверяющие центры представляют иерархию. Бывают самоподписанные сертификаты