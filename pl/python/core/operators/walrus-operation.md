# моржовая операция присваивания(walrus operation)

цель упростить и сделать более читабельным код

var := <вычисляемое выражение>

```python
d := 7 ошибка
```

```python
# нет ошибки

# создастся переменная d, 7 проверится на истинность и в переменную d вернется 7

if d := 77:
print(d) # 77
```

проверить на ненулевое значение

```python
if d := int(input()):
print(d)
```

True так как приоритет операции меньше

```python
if d := int(input()) > 0:
print(d) # True

if (d := int(input())) > 0:
print(d) # любое целое число
```

```python
# подсчитать сумму, пока не введено отрицательное -1

s = 0
while (d := int(input())) != -1:
s += d

print(s)
```

```python
# выделить среди первых n чисел квадраты которых меньше n

n = 10
lst1 = [b for x in range(n) if (b := x * x) < n]

# без - два раза x \* x

lst2 = [x * x for x in range(n) if x * x < n]
```

```python
# создать 2х список и row1, row2, row3 сразу ссылается на строки

lst20 = [
row1 := [1, 2, 3],
row2 := [4, 5, 6],
row3 := [7, 8, 9],
]
```

примеры с ошибкой

```python
# при вводе нечетного перейдет в else

if (a := int(input())) % 2 == 0 and (b := abs(a)) < 20:
print(a, b)
else: # переменно b может быть неопределенна
print(b)

# не очень

var = (d := 77) + 10 / 2
```
