## server-components

Три стратегии рендеринга серверных компонентов:

- Статический
- Динамический
- Стримминг

Преимущества: Перенос запроса за данными на сторону сервера, безопасность, размер сборки,
FCP, Оптимизация для поисковиков, Стримминг

Как происходит рендеринг на сервере

- Приложение рендерится в разные чанки по роутам и по suspense
- React рендерит проект в специальном формате React Server Component Payload (RSC Payload).
- RSC в свою очередь - это бинарные файлы, которые включают в себя: Макеты для верстки и ссылки на JS,
- все пропсы, которые передаются из серверных к клиентским в качестве props
- Next.js использует RSC Payload и клиентские компоненты в JS И рендерит их в JS

На клиенте:

- Отображается неинтерактивный контент по роуту
- React согласовывает DOM клиентских компонентов и серверных и обновляет DOM
- Далее JS использует гидратацию данных, делая компоненты интерактивными

Стратегии серверного рендеринга

- Статичный рендеринг - по умолчанию, приложение собирается на сервере
- Динамический - собирается по запросу, используются функции cookies(), headers(), searchParams()
- Стримминг - когда контент подгружается параллельно

Преимущества при использовании server components

- имеет прямой доступ к BE (db например)
- Более безопасное хранение токенов
- Лучшая коммуникация между BE и FE
- Однонаправленный поток запросов
- Уменьшает зависимость между запросами
- Уменьшается задержка
